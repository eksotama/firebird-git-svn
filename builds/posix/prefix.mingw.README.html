<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<TITLE> New Document </TITLE>
<META NAME="Generator" CONTENT="EditPlus">
<META NAME="Author" CONTENT="">
<META NAME="Keywords" CONTENT="">
<META NAME="Description" CONTENT="">
</HEAD>

<BODY>
<H2>MINGW Notes</H2>
<hr/>
Date: March 25 2003<br>
Author: Blas Rodriguez Somoza<br>

<h3>0.-Introduction</h3>
<p>The 1.5 beta 4 is the first available MSYS/MINGW build.<p>
<p>The only difference between the msvc build and the mingw build, is that the later one does not support the ms SEH exception handling. This is an important difference because some exceptions will not be catched and thus FB will abort, the sources using this exception handling are jrd/blob_filter.cpp, jrd/exe.cpp and jrd/fun.epp.</p>

<h3>1.-TODO</h3>
<ul>
<li>Add rc files to the build of fbserver, fb_inet_server and ibguard (with windres).</li>
<li>Support for ms SEH, now _try is a no-op.</li>
<li>Installer definition</li>
</ul>

<h3>2.-INSTALLING MSYS and MINGW</h3>

<p>The following packages from http://www.mingw.org are needed</p>
<p>MSYS
<ul>
<li>MSYS-1.0.8.exe</li>
<li>msysDTK-1.0.1.exe</li>
</ul>
</p>
<p>MinGW
<ul>
<li>MinGW-2.0.0-3.exe</li>
<li>MinGW_win32api-2.1.tar.gz</li>
<li>mingw-runtime-2.3.tar.gz</li>
</ul>
</p>
<p>STEPS
<ol>
<li>Install minGW with the exe package</li>
<li>Install MSYS</li>
<li>Install msysDTK</li>
</ol>
</p>

<h3>3.- PATCHES TO BUILD FILES</h3>

<ul>
<li>The MSYS environment can't process yacc files as delivered, it is necessary to comment out yacc 
in 'make.shared.targets'</li>
<li>The example target in Make.in.firebird is not valid remove it.</li>
<li>The fb_util target in Make.in.extlib is not valid remove it.</li>
</ul>

<h3>4.- BUILD PROCESS</h3>

<ol>
<li>Start msys with the icon.</li>
<li>Go to the firebird2 root directory. For instance, if your root is d:\cvs\firebird you must do cd /d/cvs/firebird2.</li>
<li>Start configure with the switches to get super/classic and production/development build, for instance:<br>
autogen.sh --enable-superserver<br>
The valid switches for autogen are<br>
--enable-superserver    Select superserver build, default classic build.<br>
--enable-debug          Select debug build, default production build.<br>
</li>
<li>Make the build. For instance<br> make > make.log 2>&1</li>
<li>After the build finish, the firebird directory with the binaries is created as gen/firebird.</li> 
</ol>
</BODY>
</HTML>
